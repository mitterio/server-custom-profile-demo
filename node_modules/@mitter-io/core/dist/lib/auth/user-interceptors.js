"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var named_entities_1 = require("../models/named-entities");
var UserAuthorizationInterceptor = /** @class */ (function () {
    function UserAuthorizationInterceptor(userAuthorizationFetcher, applicationId) {
        if (applicationId === void 0) { applicationId = undefined; }
        this.userAuthorizationFetcher = userAuthorizationFetcher;
        this.applicationId = applicationId;
    }
    UserAuthorizationInterceptor.prototype.getInterceptor = function () {
        var _this = this;
        return function (requestParams) {
            if (!(named_entities_1.StandardHeaders.UserAuthorizationHeader in requestParams.headers)) {
                var userAuthorization = _this.userAuthorizationFetcher();
                if (userAuthorization !== undefined) {
                    requestParams.headers[named_entities_1.StandardHeaders.UserAuthorizationHeader] = [
                        userAuthorization
                    ];
                }
                if (_this.applicationId !== undefined) {
                    requestParams.headers[named_entities_1.StandardHeaders.ApplicationIdHeader] = [
                        _this.applicationId
                    ];
                }
            }
        };
    };
    return UserAuthorizationInterceptor;
}());
exports.UserAuthorizationInterceptor = UserAuthorizationInterceptor;
//# sourceMappingURL=user-interceptors.js.map